<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Teleport Hub</title>
		<meta name="Teleport Hub" content="Teleport Hub">
		<!--Calling on aframes JS-->
		<script src="https://aframe.io/releases/0.3.0/aframe.js"></script>
		<!--Calling on the Altspace SDK js-->
		<script src="https://sdk.altvr.com/libs/altspace.js/2.6.2/altspace.min.js"></script>
	</head>
	<body>
		<!-- Starting the scene, defining the alignment of the scene to the bottom of the boundary box-->
		<a-scene altspace='vertical-align: bottom'>
			<!--Asset Loading-->
			<!--<a-assets> 
			</a-assets>-->
			<!--Make a boundary box and load badges-->
			<a-entity n-layout-browser="url:https://lunartiger.github.io/AltspaceVR/Badges_by_Ben.html?altspace-sync-instance=-L6JmH6lacq_WR9FPIvR;isEnclosure:true;"></a-entity>
			<!--Load portals-->
			<a-entity n-text="fontSize: 4; text:Public Spaces" position="0 3.4 -10" rotation='0 0 0' visible></a-entity>
			<!--Campfire-->
				<a-entity position='0 0.2 -10' rotation='0 0 0' n-portal='targetSpace: campfire-lobby'></a-entity>
				<a-entity n-text="fontSize: 2; text:Campfire" position="0 0.7 -10" rotation='0 0 0' visible></a-entity>
			<!--Lobby-->
				<a-entity position='-2 0.2 -10' rotation='0 0 0' n-portal='targetSpace: lobby'></a-entity>
				<a-entity n-text="fontSize: 2; text:Lobby" position="-2 0.7 -10" rotation='0 0 0' visible></a-entity>
			<!--Spire 4-->
				<a-entity position='-4 0.2 -10' rotation='0 0 0' n-portal='targetSpace: event-606878869948990299-848'></a-entity>
				<a-entity n-text="fontSize: 2; text:Spire 4" position="-4 0.7 -10" rotation='0 0 0' visible></a-entity>
			<!--VIP Lobby-->
				<a-entity position='2 0.2 -10' rotation='0 0 0' n-portal='targetSpace: vip-lobby'></a-entity>
				<a-entity n-text="fontSize: 2; text:VIP Lobby" position="2 0.7 -10" rotation='0 0 0' visible></a-entity>
			<!--Miguel's Party Plaza-->
				<a-entity position='4 0.2 -10' rotation='0 0 0' n-portal='targetSpace: explorer-ncb-party-plaza'></a-entity>
				<a-entity n-text="fontSize: 2; text:Miguel's<br>Party Plaza" position="4 0.7 -10" rotation='0 0 0' visible></a-entity>
			
			<a-entity n-text="fontSize: 4; text:Lunar's Spaces" position="-10 3.4 0" rotation='0 90 0' visible></a-entity>
			<!--Lunar's Tavern-->
				<a-entity position='-10 0.2 -1' rotation='0 90 0' n-portal='targetSpace: lunar-s-medieval-tavern'></a-entity>
				<a-entity n-text="fontSize: 2; text:Lunar's<br>Tavern" position="-10 0.7 -1" rotation='0 90 0' visible></a-entity>
			<!--El Hoguero-->
				<a-entity position='-10 0.2 1' rotation='0 90 0' n-portal='targetSpace: el-fuego-del-campamento'></a-entity>
				<a-entity n-text="fontSize: 2; text:La Hoguera" position="-10 0.7 1" rotation='0 90 0' visible></a-entity>
			<!--Glitchy House-->
				<a-entity position='-10 0.2 -3' rotation='0 90 0' n-portal='targetSpace: glitchy-house'></a-entity>
				<a-entity n-text="fontSize: 2; text:Glitchy House" position="-10 0.7 -3" rotation='0 90 0' visible></a-entity>
			<!--Unholy HaH-->
				<a-entity position='-10 0.2 3' rotation='0 90 0' n-portal='targetSpace: adultier-hah'></a-entity>
				<a-entity n-text="fontSize: 2; text:Unholy HaH" position="-10 0.7 3" rotation='0 90 0' visible></a-entity>
			
			<a-entity n-text="fontSize: 4; text:User Created Spaces" position="0 3.4 10" rotation='0 180 0' visible></a-entity>
			<!--Toy House-->
				<a-entity position='0 0.2 10' rotation='0 180 0' n-portal='targetSpace: event-862654090620961312'></a-entity>
				<a-entity n-text="fontSize: 2; text:Ben's<br>Toy House" position="0 0.7 10" rotation='0 180 0' visible></a-entity>
			<!--Ben's Test House-->
				<a-entity position='-2 0.2 10' rotation='0 180 0' n-portal='targetSpace: test-house'></a-entity>
				<a-entity n-text="fontSize: 2; text:Ben's<br>Test House" position="-2 0.7 10" rotation='0 180 0' visible></a-entity>
			<!--Andy's Vortex Tunnel-->
				<a-entity position='2 0.2 10' rotation='0 180 0' n-portal='targetSpace: andy-s-vortex-tunnel-sdk'></a-entity>
				<a-entity n-text="fontSize: 2; text:Andy's Vortex<br>Tunnel" position="2 0.7 10" rotation='0 180 0' visible></a-entity>
			<!--Reggie's Octo Space 2-->
				<a-entity position='-4 0.2 10' rotation='0 180 0' n-portal='targetSpace: experience-space-614783891072352897'></a-entity>
				<a-entity n-text="fontSize: 2; text:Reggie's Octo<br>Space 2" position="-4 0.7 10" rotation='0 180 0' visible></a-entity>
			<!--Faceman's Space Hub-->
				<a-entity position='4 0.2 10' rotation='0 180 0' n-portal='targetSpace: faceman-space-hub'></a-entity>
				<a-entity n-text="fontSize: 2; text:FACEMAN<br>Space Hub" position="4 0.7 10" rotation='0 180 0' visible></a-entity>
			<!--Uganda-->
				<a-entity position='0 0.2 63' rotation='0 180 0' n-portal="targetSpace: event-855383141190206287"></a-entity>
				<a-entity n-text="fontSize: 2; text:Uganda" position="0 0.7 63" rotation='0 180 0' visible></a-entity>
			
			<!--Make another boundary box and load event portals-->
			<a-entity position="10 0.3 6" rotation="0 -90 0" scale="1 1 1" n-layout-browser="url:http://altspacevr.github.io/event-portals-app/;isEnclosure:true;"></a-entity>
			<a-entity n-text="fontSize: 4; text:Featured Events" position="10 3.4 1" rotation='0 -90 0' visible></a-entity>
			<!--Ending the scene--> 
		</a-scene>
		<script type="text/javascript">
			//Pay no attention to the following lines of code
			//Didn't I just say to pay no attention to this
			//I should have known an elite haxxor like yourself wouldn't follow directions
			var NUI = ['820629041114514394','854702168379228532','821914120528855813','582115151281389721','821385466442940567','382123859119177848','841002676610138609','805838205118054726','754988950141010665','670918140376383562','403147243432968910','707158522659340439','846089948032401741','379858308179165566'];
			var pokesmot = ['820629041114514394','821914120528855813','846089948032401741'];
			altspace.getUser()
			.then(function(user){
				var dataRequest = (THREE.FileLoader ? new THREE.FileLoader() : new THREE.XHRLoader(/* DEPRECATED: r83 */));
				dataRequest.setWithCredentials(true);
				dataRequest.load('https://account.altvr.com/api/v1/users/' + user.userId, onLoaded, undefined, undefined);
				function onLoaded(obj) {
					var roles = JSON.parse(obj).users[0].roles;
					var name = JSON.parse(obj).users[0].username;
					var isAdmin = false;
					//console.log('The user id:',user.userId);
					if(roles.indexOf('admin') != -1 || roles.indexOf('roadteam') != -1){isAdmin = true;}
					if(NUI.filter(function(id){return id===user.userId}).length || pokesmot.filter(function(id){return id===user.userId}).length || isAdmin){
						var text_entity = document.createElement('a-entity');
						text_entity.setAttribute('n-text','fontSize: 10; text:Hidden Portals');
						text_entity.setAttribute('rotation','0 -90 0');
						text_entity.setAttribute('position','63 5 0');
						document.querySelector('a-scene').appendChild(text_entity);
					}
					if(NUI.filter(function(id){return id===user.userId}).length || isAdmin){
						var portal_entity = document.createElement('a-entity');
						var text_entity = document.createElement('a-entity');
						portal_entity.setAttribute('n-portal','targetSpace: new-user-info');
						portal_entity.setAttribute('rotation','0 -90 0');
						portal_entity.setAttribute('position','63 0.2 -1');
						text_entity.setAttribute('n-text','fontSize: 2; text:New User<br>Info');
						text_entity.setAttribute('rotation','0 -90 0');
						text_entity.setAttribute('position','63 0.7 -1');
						document.querySelector('a-scene').appendChild(portal_entity);
						document.querySelector('a-scene').appendChild(text_entity);
					}
					if(pokesmot.filter(function(id){return id===user.userId}).length || isAdmin){
						var portal_entity = document.createElement('a-entity');
						var text_entity = document.createElement('a-entity');
						portal_entity.setAttribute('n-portal','targetSpace: capt-cannabis-says-poke-smot');
						portal_entity.setAttribute('rotation','0 -90 0');
						portal_entity.setAttribute('position','63 0.2 1');
						text_entity.setAttribute('n-text',"fontSize: 2; text:Capt. Cannabis's<br>Grow Room");
						text_entity.setAttribute('rotation','0 -90 0');
						text_entity.setAttribute('position','63 0.7 1');
						document.querySelector('a-scene').appendChild(portal_entity);
						document.querySelector('a-scene').appendChild(text_entity);
					}
				}
			})
		</script>
	<!--<a-entity position='2 0.2 -10' rotation='0 0 0' n-portal='targetSpace: app-test-playground'></a-entity>
	<a-entity n-text="fontSize: 2; text:Fae's Playground<br>Desktop Only" position="2 0.7 -10" rotation='0 0 0' visible></a-entity>-->
	</body>
</html>
